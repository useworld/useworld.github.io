<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.6">Jekyll</generator><link href="https://useworld.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://useworld.github.io/" rel="alternate" type="text/html" /><updated>2020-07-06T23:16:46+09:00</updated><id>https://useworld.github.io/feed.xml</id><title type="html">To be Useful to the World</title><subtitle>이것저것 다하는 블로그</subtitle><author><name>Useworld</name></author><entry><title type="html">안드로이드폰을 해킹머신으로 만들어보자(Kali Nethunter for any android device)</title><link href="https://useworld.github.io/android/2020/06/09/nethunter.html" rel="alternate" type="text/html" title="안드로이드폰을 해킹머신으로 만들어보자(Kali Nethunter for any android device)" /><published>2020-06-09T00:00:00+09:00</published><updated>2020-06-09T00:00:00+09:00</updated><id>https://useworld.github.io/android/2020/06/09/nethunter</id><content type="html" xml:base="https://useworld.github.io/android/2020/06/09/nethunter.html">&lt;h1 id=&quot;서론&quot;&gt;서론&lt;/h1&gt;

&lt;p&gt;데스크탑이나 노트북이 없어도 휴대용으로 들고 다닐 수 있는 해킹 도구는 매력적이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter01.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;물론 영화나 게임에서 나오는 해커들처럼 1초만에 띠디딕 잠긴 문을 다 따는 등의 행위는 아마도(?) 불가능하다.&lt;br /&gt;
이 글은 안드로이드 기기에 모의해킹 침투테스트 환경을 구축하는 방법에 대한 내용이다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;nethunter란&quot;&gt;Nethunter란?&lt;/h1&gt;

&lt;p&gt;모의해킹을 수행하거나 관심이 있는 사람이라면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Backtrack&lt;/code&gt;이나 &lt;code class=&quot;highlighter-rouge&quot;&gt;Kali Linux&lt;/code&gt;를 한번 쯤 들어본 적이 있을 것이다.&lt;br /&gt;
이는 &lt;a href=&quot;https://www.offensive-security.com/&quot;&gt;Offensive Security&lt;/a&gt;에서 만든 모의 침투 테스트용 운영체제이며 칼리 리눅스는 백트랙의 후속 버전이다.
그리고 &lt;code class=&quot;highlighter-rouge&quot;&gt;넷헌터(NetHunter OS)&lt;/code&gt;는 2015년 1월 출시된 칼리 리눅스의 공식 안드로이드 롬이다.&lt;/p&gt;

&lt;p&gt;문제는 &lt;a href=&quot;https://www.offensive-security.com/kali-linux-nethunter-download/&quot;&gt;공식 지원 기종&lt;/a&gt;이 거의 구글 레퍼런스 폰인 Nexus 시리즈, Sony XPeria(일본꺼), OnePlus 시리즈(중국꺼)이며 갤럭시는 Tab S4 밖에 없다.&lt;/p&gt;

&lt;p&gt;국내 안드로이드 사용자들은 아마 대부분 갤럭시S 시리즈를 사용할텐데 공식 지원 기종에 없다. 여담으로 나도 Galaxy S 시리즈를 사용하고 있지만 솔직히 삼성페이 아니었으면 안쓸텐데 삼성페이 편의성이 넘사벽이라 어쩔 수가 없네…&lt;/p&gt;

&lt;p&gt;하지만 지원해주지 않는다고 설치를 못하는 것은 아니다.
지금부터 시작해보자.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;작업-환경&quot;&gt;작업 환경&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;Device : Galaxy S7(SM-G930F)&lt;/li&gt;
  &lt;li&gt;OS : LineageOS 17.1(Android 10)&lt;/li&gt;
  &lt;li&gt;Status : Rooted(Magisk 20.4)&lt;/li&gt;
  &lt;li&gt;Image : &lt;a href=&quot;https://images.offensive-security.com/nethunter/nethunter-2020.2-angler-los-ten-kalifs-full.zip?_ga=2.54912939.1884579290.1591662327-547972089.1590403638&quot;&gt;Nexus 6P Los Ten&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter02.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;\img\posts\nethunter03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;최신 버전을 선호하기에 갤럭시S7에서 설치 가능한 안드로이드 10 커스텀롬인 &lt;code class=&quot;highlighter-rouge&quot;&gt;리니지OS&lt;/code&gt;를 올려놓고 &lt;code class=&quot;highlighter-rouge&quot;&gt;Magisk&lt;/code&gt;로 루팅을 했다.&lt;br /&gt;
물론 &lt;a href=&quot;https://www.kali.org/docs/nethunter/nethunter-rootless/&quot;&gt;루팅안하고도 할 수 있는 방법&lt;/a&gt;도 있긴 하지만 안드로이드 기기로 뭔가 해보려면 루팅은 기본이지.&lt;br /&gt;
이미지는 안드로이드 버전만 맞으면 아무거나 받아도 된다.&lt;br /&gt;
커스텀롬을 올리거나 루팅을 하면서 폰이 벽돌이 되도 나는 모르오.&lt;br /&gt;
뭐 문제 생기면 &lt;code class=&quot;highlighter-rouge&quot;&gt;Odin&lt;/code&gt;으로 밀고 순정 펌웨어를 새로 설치하면 앵간한 문제는 다 해결되니 긴장할 필요는 없다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;설치-방법&quot;&gt;설치 방법&lt;/h1&gt;

&lt;p&gt;지금부터 하는 방법은 공식 방법이 아닌 야매 방법으로 문제가 있을 수도 있다.&lt;br /&gt;
참고로 난 한 번에 잘됐다.&lt;/p&gt;

&lt;p&gt;우선 다운로드 받은 이미지 파일의 압축을 풀어 &lt;kbd&gt;data/app/&lt;/kbd&gt; 경로의 apk파일들을 한 개씩 설치해준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;NetHunter 앱을 한 번 실행 했다가 종료한 후 &lt;code class=&quot;highlighter-rouge&quot;&gt;Root Explorer&lt;/code&gt; 같은 탐색기를 이용하여
&lt;kbd&gt;/data/data/com.offsec.nethunter/files/scripts&lt;/kbd&gt; 경로의 파일들을
&lt;kbd&gt;/system/bin&lt;/kbd&gt;로 전부 복사해준다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter05.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이제 Nethunter 앱을 실행하여 Kali Chroot Manager 메뉴에서 Minimal Chroot를 Install한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter06.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter07.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter08.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Chroot가 설치되기 전에는 하단의 메뉴들이 전부 비활성화 되어있다.&lt;/p&gt;

&lt;p&gt;설치가 완료된 후 Nethunter Terminal에서 Kali를 선택하고 Root 권한을 부여하면 Kali Shell이 등장한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter09.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;리눅스를 처음 설치하면 항상 하는 그것과 함께 칼리 리눅스 넷헌터를 설치한다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;항상 하는 그것
&lt;kbd&gt;apt-get update&lt;/kbd&gt;
&lt;kbd&gt;apt-get upgrade&lt;/kbd&gt;
&lt;kbd&gt;apt-get dist-upgrade&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;넷헌터 설치
&lt;kbd&gt;apt-get install kali-linux-nethunter&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;이제 Nethunter 앱에서 각종 서비스들을 켜주고 사용하면 된다.
앱 안에는 이런 다양한 기능들이 있다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter10.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;metasploit console 이다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter11.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;만약 실행이 안되면 &lt;kbd&gt;msfdb init&lt;/kbd&gt;을 해주거나
넷헌터 앱 내의 서비스들을 &lt;code class=&quot;highlighter-rouge&quot;&gt;Start at Boot&lt;/code&gt; 해주면 된다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;난-gui도-쓰고-싶어&quot;&gt;난 GUI도 쓰고 싶어.&lt;/h1&gt;

&lt;p&gt;조그만 화면의 스마트폰으로 GUI를 쓸 일이 있을 것 같진 않지만 혹시 큰 화면에 미러링하거나 키보드 마우스를 연결해서 마치 노트북처럼 사용할 수도 있으려나.&lt;br /&gt;
넷헌터 GUI는 NetHunter KeX로 제공해주는데 VNCServer를 구동하여 VNCClient로 붙어 화면을 보는 방식이다.&lt;/p&gt;

&lt;p&gt;Nethunter 앱에서 KeX Manager 메뉴로 들어가 서버를 설정해준 후 시작한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter12.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그리고 NetHunter Kex 앱을 실행하여 접속하면 GUI 등장.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter13.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;\img\posts\nethunter14.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하지만 검정 화면 콘솔의 간지를 이길 순 없다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;결론&quot;&gt;결론&lt;/h1&gt;

&lt;p&gt;아무 루팅 기기에 넷헌터 설치법&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;이미지 파일의 압축을 풀어 &lt;kbd&gt;data/app/&lt;/kbd&gt; 경로의 apk파일들 설치&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;/data/data/com.offsec.nethunter/files/scripts&lt;/kbd&gt; 경로의 파일들을
&lt;kbd&gt;/system/bin&lt;/kbd&gt;로 복사&lt;/li&gt;
  &lt;li&gt;Nethunter 앱을 실행하여 Kali Chroot Manager 메뉴에서 Chroot를 Install&lt;/li&gt;
  &lt;li&gt;터미널에서 넷헌터 설치&lt;kbd&gt;apt-get install kali-linux-nethunter&lt;/kbd&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Android" /><summary type="html">서론</summary></entry><entry><title type="html">아이폰 백그라운드 스냅샷 저장 경로(iOS Background Snapshots)</title><link href="https://useworld.github.io/ios/2020/06/05/iossnapshot.html" rel="alternate" type="text/html" title="아이폰 백그라운드 스냅샷 저장 경로(iOS Background Snapshots)" /><published>2020-06-05T00:00:00+09:00</published><updated>2020-06-05T00:00:00+09:00</updated><id>https://useworld.github.io/ios/2020/06/05/iossnapshot</id><content type="html" xml:base="https://useworld.github.io/ios/2020/06/05/iossnapshot.html">&lt;h1 id=&quot;백그라운드-스냅샷이-뭐야&quot;&gt;백그라운드 스냅샷이 뭐야?&lt;/h1&gt;

&lt;p&gt;앱 실행 중 홈키를 한 번 눌러 홈화면으로 돌아가거나&lt;br /&gt;
홈키를 두 번 눌러 Multitasking Switcher에 진입하면
직전의 앱 화면이 스크린샷으로 저장되어 화면에 보이게 된다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/iossnapshot01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이 화면은 이미지 파일로 아이폰 내부 저장공간에 파일로 저장이 된다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;그래서-이게-뭐&quot;&gt;그래서 이게 뭐?&lt;/h1&gt;

&lt;p&gt;모바일 앱 보안 관련해서 백그라운드 화면에&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;고유식별정보(주민등록번호, 운전면허번호, 여권번호, 외국인 등록번호)&lt;/li&gt;
  &lt;li&gt;비밀번호(로그인 비밀번호, 계좌 비밀번호, 공인인증서 비밀번호 등)&lt;/li&gt;
  &lt;li&gt;신용정보(보안카드번호, OTP번호, 신용/체크 카드번호 등)&lt;/li&gt;
  &lt;li&gt;기타 중요 정보&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;등이 노출이 되면 취약하다고 한다.&lt;/p&gt;

&lt;p&gt;이게 위험성이 엄청나게 높다고는 생각하지 않는다.&lt;br /&gt;
백그라운드 화면이 유출될 상황이라면 이미 이게 문제가 아닌 것 같은데?&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;저장-경로&quot;&gt;저장 경로&lt;/h1&gt;

&lt;p&gt;결론부터 말하면 iOS 버전에 따라 저장경로가 다르다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 8 미만 
&lt;kbd&gt;/var/mobile/Application/[BundleID]/Library/Caches/Snapshots/[PackageName]/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 8 이상 13 미만
&lt;kbd&gt;/var/mobile/Containers/Data/Application/[BundleID]/Library/Caches/Snapshots/[PackageName]/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 13
&lt;kbd&gt;/var/mobile/Conatiners/Data/Application/[BundleID]/Library/SplashBoard/Snapshots/sceneID:[PackageName]-default/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[BundleID]&lt;/code&gt;는 0C60E8AE-54CF-4322-871E-7DC4EE39E6AA 이런 식으로 생긴 앱 고유 ID를 말하고&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;[PackageName]&lt;/code&gt;은 com.useworld.test 같은 앱 패키지명을 말한다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;확인&quot;&gt;확인&lt;/h1&gt;

&lt;p&gt;이미지 파일 확인을 직접 해보았다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;테스트 기기 : iOS 13(Jailbroken)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;보통 앱 바이너리가 저장되어 있는 &lt;kbd&gt;/var/containers/Bundle/Application/&lt;/kbd&gt;
경로에서 검색 해보면 원하는 앱의 이름으로 BundleID 확인이 가능하다.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;/var/containers/Bundle/Application

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;find ./ &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; Useworld
&lt;span class=&quot;go&quot;&gt;./0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/Useworld.app/Useworld

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/
&lt;span class=&quot;go&quot;&gt;BundleMetadata.plist  Useworld.app/

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;내 앱의 BundleID는 0C60E8AE-54CF-4322-871E-7DC4EE39E6AA 이거구나.&lt;/p&gt;

&lt;p&gt;그러면 스냅샷이 저장되는 &lt;kbd&gt;/var/mobile/Conatiners/Data/Application/&lt;/kbd&gt;로 가보자.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;/var/mobile/Containers/Data/Application

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/
&lt;span class=&quot;go&quot;&gt;-sh: cd: 0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/: No such file or directory

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ls &lt;/span&gt;0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/
&lt;span class=&quot;go&quot;&gt;ls: cannot access '0C60E8AE-54CF-4322-871E-7DC4EE39E6AA/': No such file or directory

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;find ./ &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; Useworld
&lt;span class=&quot;go&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;아 뭐야 없어.
보니까 이곳에 저장되는 BundleID는 달랐던 것이었다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;bundleid-찾기&quot;&gt;BundleID 찾기&lt;/h1&gt;

&lt;p&gt;그러면 내가 원하는 앱의 BundleID를 어떻게 찾느냐.&lt;br /&gt;
폴더 내에  &lt;kbd&gt;.com.apple.mobile_container_manager.metadata.plist&lt;/kbd&gt; 파일에서 &lt;code class=&quot;highlighter-rouge&quot;&gt;PackageName&lt;/code&gt;에 포함된 문자열로 찾으면 된다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;PackageName&lt;/code&gt;은 위에서 말했듯이 com.useworld.test 같은 패키지명이다.&lt;/p&gt;

&lt;p&gt;&lt;kbd&gt;grep [문자열] */.com.apple.mobile_container_manager.metadata.plist&lt;/kbd&gt;&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;/var/mobile/Containers/Data/Application

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;useworld &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;/.com.apple.mobile_container_manager.metadata.plist
&lt;span class=&quot;go&quot;&gt;Binary file 492BD434-B2C2-4FA9-92B9-FFD999EE8C98/.com.apple.mobile_container_manager.metadata.plist matches

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;492BD434-B2C2-4FA9-92B9-FFD999EE8C98/
&lt;span class=&quot;go&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; .com.apple.mobil e_container_manager.metadata.plist
&lt;span class=&quot;go&quot;&gt;bplist00�☺☻♥♦♣◄↕_►↕MCMMetadataVersion_►§MCMMetadataIdentifier_►↨MCMMetadataUserIdentity_►↨MCMMetadataContentClass_►☼MCMMetadataUUIDQ2_►↨com.useworld.test�
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;♫♫☼►♠XposixUIDXposixGID_►‼personaUniqueStringTtypeWversion◄☺�_►$&lt;/span&gt;5C0C954D-8251-4BA6-8ACE-7DECCE6A2F52► ►☻_►&lt;span class=&quot;nv&quot;&gt;$3D70C1E6&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-879C-4E7D-8490-5D536A8AE545&lt;/span&gt; ‼ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; @ Z t � � � � � � � � � �☺♀☺♫☺►      ☻☺       ‼              ☺7
&lt;span class=&quot;go&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;찾앗다.&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;492BD434-B2C2-4FA9-92B9-FFD999EE8C98&lt;/code&gt; 이거였다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;확인-1&quot;&gt;확인&lt;/h1&gt;

&lt;p&gt;이제 스냅샷 저장 경로에서 확인한다.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;/var/mobile/Containers/Data/Application/492BD434-B2C2-4FA9-92B9-FFD999EE8C98/Library/SplashBoard/Snapshots/sceneID:com.useworld.test-default

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-al&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;38543746-8F29-4BFC-AB0A-36BE3986A7F8\@2x.ktx  5118E936-461F-4C12-9147-8C8471A09656\@2x.ktx  downscaled/

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;저기있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;ktx&lt;/code&gt; 파일이 스냅샷 이미지 파일이다.&lt;br /&gt;
익숙치 않은 확장자인데 맥에서 열어보면 이미지 확인이 가능하다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;정리&quot;&gt;정리&lt;/h1&gt;

&lt;p&gt;아이폰 백그라운드 스냅샷 확인 방법&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 8 미만 
&lt;kbd&gt;/var/mobile/Application/[BundleID]/Library/Caches/Snapshots/[PackageName]/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 8 이상 13 미만
&lt;kbd&gt;/var/mobile/Containers/Data/Application/[BundleID]/Library/Caches/Snapshots/[PackageName]/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;iOS 13
&lt;kbd&gt;/var/mobile/Conatiners/Data/Application/[BundleID]/Library/SplashBoard/Snapshots/sceneID:[PackageName]-default/&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;BundleID 찾기&lt;br /&gt;
&lt;kbd&gt;grep [패키지명에 포함된 문자열] */.com.apple.mobile_container_manager.metadata.plist&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;안에 들어있는 &lt;code class=&quot;highlighter-rouge&quot;&gt;ktx&lt;/code&gt; 파일이 범인이다.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="iOS" /><summary type="html">백그라운드 스냅샷이 뭐야?</summary></entry><entry><title type="html">Python PIP에서 SSLCertVerificationError 날 때</title><link href="https://useworld.github.io/python/2020/04/16/pipssl.html" rel="alternate" type="text/html" title="Python PIP에서 SSLCertVerificationError 날 때" /><published>2020-04-16T00:00:00+09:00</published><updated>2020-04-16T00:00:00+09:00</updated><id>https://useworld.github.io/python/2020/04/16/pipssl</id><content type="html" xml:base="https://useworld.github.io/python/2020/04/16/pipssl.html">&lt;h1 id=&quot;pip가-안된다&quot;&gt;PIP가 안된다.&lt;/h1&gt;

&lt;p&gt;인터넷이 되는 환경인데 주로 웹 Proxy를 사용하는 네트워크 환경에서&lt;br /&gt;
PIP를 이용하여 모듈을 설치 하면 꼭 이런 에러가 발생한다.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&lt;/span&gt;pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;frida
&lt;span class=&quot;go&quot;&gt;Collecting frida
 WARNING: Retrying &amp;lt;Retry&amp;lt;total=4, connect=None, read=None, redirect=None, status=none)) after connection broken by 'SSLError&amp;lt;SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERTIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)'))': /simple/frida
 WARNING: Retrying &amp;lt;Retry&amp;lt;total=3, connect=None, read=None, redirect=None, status=none)) after connection broken by 'SSLError&amp;lt;SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERTIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)'))': /simple/frida

 ... [생략] ...
 
 Could not fetch URL https://pypi.org/simple/pip/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host='pypi.org', port=443): Max retres exceeded with url: /simple/pip/ (Caused by SSLError&amp;lt;SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERTIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1056)'))) - skipping

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;
&lt;h1 id=&quot;옵션-추가&quot;&gt;옵션 추가&lt;/h1&gt;

&lt;p&gt;이럴 경우 다운받아오는 위치를 신뢰할 수 있는 호스트로 설정하여 사용하면&lt;br /&gt;
설치가 가능해진다.&lt;br /&gt;
&lt;kbd&gt;--trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org&lt;/kbd&gt; 옵션을 붙여주면 된다.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&lt;/span&gt;pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--trusted-host&lt;/span&gt; pypi.org &lt;span class=&quot;nt&quot;&gt;--trusted-host&lt;/span&gt; pypi.python.org &lt;span class=&quot;nt&quot;&gt;--trusted-host&lt;/span&gt; files.pythonhosted.org frida
&lt;span class=&quot;go&quot;&gt;Collecting frida
  Downloading https://files.pythonhosted.org/packages/c7/52/a4c0c4d85fbe27389841ae40958c46e612ad4a66a75ff838b9f6c96eceff/frida-12.7.11.tar.gz
Installing collected packages: frida
  Running setup.py install for frida ... done
Successfully installed frida-12.7.11

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;&amp;gt;&lt;/span&gt;_
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;잘 된다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;매번-붙여-넣기-귀찮음&quot;&gt;매번 붙여 넣기 귀찮음&lt;/h1&gt;

&lt;p&gt;매번 저렇게 옵션을 달아서 설치하기 귀찮을 경우&lt;br /&gt;
아예 pip.ini 파일에 설정을 해주면 된다.&lt;br /&gt;
윈도우의 경우 경로는&lt;br /&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;\Users\[사용자]\AppData\Roaming\pip\pip.ini&lt;/code&gt;&lt;br /&gt;
이며 파일이 없으면 생성해서 넣어주면 된다.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[global]
trusted-host = pypi.python.org
               pypi.org
               files.pythonhosted.org
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;인터넷이-없을-때는-어떻게&quot;&gt;인터넷이 없을 때는 어떻게?&lt;/h1&gt;

&lt;p&gt;인터넷이 안되거나 혹은 내 작업 환경 그대로 이전하고 싶은데&lt;br /&gt;
폴더째로 들고다니긴 싫고 깔끔하게 설치하고 싶다.&lt;br /&gt;
나만 그런가…&lt;/p&gt;

&lt;p&gt;우선 Python을 사용하고 있는 원하는 버전의 설치본으로&lt;br /&gt;
&lt;a href=&quot;https://www.python.org/downloads/&quot;&gt;Python 홈페이지&lt;/a&gt;에서 다운받는다.&lt;/p&gt;

&lt;p&gt;pip freeze 명령을 사용하여 requirements format으로 설치된 목록을 저장한다.&lt;br /&gt;
&lt;kbd&gt;pip freeze &amp;gt; requirements.txt&lt;/kbd&gt;&lt;/p&gt;

&lt;p&gt;그러면 requirements.txt 파일에 설치 목록이 버전과 함께 저장된다.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[requirements.txt Sample]

colorama==0.4.1
frida==12.7.11
frida-tools==5.1.0
prompt-toolkit==2.0.10
py==1.8.0
Pygments==2.4.2
six==1.12.0
wcwidth==0.1.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;해당 모듈들을 pip download 명령으로 다운로드 받는다.&lt;br /&gt;
&lt;kbd&gt;pip download -r requirements.txt&lt;/kbd&gt;&lt;/p&gt;

&lt;p&gt;그러면 아래와 같은 설치파일들이 다운받아진다.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;colorama-0.4.1-py2.py3-none-any.whl
frida-12.7.11.tar.gz
frida-tools-5.1.0.tar.gz
prompt_toolkit-2.0.10-py3-none-any.whl
py-1.8.0-py2.py3-none-any.whl
Pygments-2.4.2-py2.py3-none-any.whl
six-1.12.0-py2.py3-none-any.whl
wcwidth-0.1.7-py2.py3-none-any.whl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;파이썬 설치파일과 requirements.txt, 이 설치 파일들을 갖고 다니면서&lt;br /&gt;
필요할 때 원하는 곳으로 복사하여 pip install로 한번에 설치한다.&lt;br /&gt;
&lt;kbd&gt;pip install --no-index --find-links=&quot;./&quot; -r .\requirements.txt&lt;/kbd&gt;&lt;/p&gt;

&lt;p&gt;이 방법을 사용하면 사용하던 환경 그대로 dependency 문제 없이 깔끔하게 한번에 모두 오프라인으로 설치가 가능하다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;결론&quot;&gt;결론&lt;/h1&gt;

&lt;p&gt;PIP 설치 시 SSL 에러 발생&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;일회성&lt;br /&gt;
&lt;kbd&gt;pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org [module]&lt;/kbd&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;매번 치기 귀찮으면 php.ini에 아래 내용 삽입&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[global]
trusted-host = pypi.python.org
             pypi.org
             files.pythonhosted.org
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;오프라인 설치 시&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Python 설치 파일&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;pip freeze &amp;gt; requirements.txt&lt;/kbd&gt; 해서 나온 &lt;code class=&quot;highlighter-rouge&quot;&gt;requirements.txt&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;kbd&gt;pip download -r requirements.txt&lt;/kbd&gt; 해서 나온 &lt;code class=&quot;highlighter-rouge&quot;&gt;설치 파일들&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;이것들을 가지고
&lt;kbd&gt;pip install --no-index --find-links=&quot;./&quot; -r .\requirements.txt&lt;/kbd&gt;로 설치한다.&lt;/p&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Python" /><summary type="html">PIP가 안된다.</summary></entry><entry><title type="html">iOS에서 hosts 변경 적용하기</title><link href="https://useworld.github.io/ios/2020/04/07/hosts.html" rel="alternate" type="text/html" title="iOS에서 hosts 변경 적용하기" /><published>2020-04-07T00:00:00+09:00</published><updated>2020-04-07T00:00:00+09:00</updated><id>https://useworld.github.io/ios/2020/04/07/hosts</id><content type="html" xml:base="https://useworld.github.io/ios/2020/04/07/hosts.html">&lt;h1 id=&quot;사건의-발단&quot;&gt;사건의 발단&lt;/h1&gt;

&lt;p&gt;앱에 SSL Pinning을 구현하기 위하여 우선 HTTPS 서버를 구축했다.&lt;br /&gt;
운영 서버에서 사용하는 인증서를 받아 로컬에 서버를 구동하고 접속하려고 하니&lt;br /&gt;
인증서에 등록된 Hostname에 맞지 않으면 Invalid Certificate 에러를 뿜어낸다.&lt;br /&gt;
우선 개발용인 PC에서 hosts 파일을 수정하여 등록된 주소로 접속해보니 잘 됐다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;아이폰에서-접속&quot;&gt;아이폰에서 접속&lt;/h1&gt;

&lt;p&gt;동일 네트워크에 있는 탈옥된 아이폰에 /etc/hosts 파일을 수정했다.&lt;br /&gt;
로컬 서버의 내부 IP와 사용할 주소를 넣고나서 Ping을 날렸다.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;ping test.useworld.com
&lt;span class=&quot;go&quot;&gt;PING test.useworld.com (192.168.0.0) 56(84) bytes of data.
64 bytes from 192.168.0.0: icmp_seq=1 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=2 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=3 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=4 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=5 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=6 ttl=54 time=0.0 ms
64 bytes from 192.168.0.0: icmp_seq=7 ttl=54 time=0.0 ms
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;잘 된다.&lt;br /&gt;
이어서 Safari를 열어 &lt;kbd&gt;https://test.useworld.com&lt;/kbd&gt;로 접속해보니 이게 왠걸.&lt;br /&gt;
서버에 접속할 수 없다고 한다.&lt;br /&gt;
개발중인 앱에서 Request를 날려봐도 마찬가지로 Not Found라고 나온다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;삽질&quot;&gt;삽질&lt;/h1&gt;

&lt;p&gt;구글링을 해봐도 쉽게 나와주질 않는다.&lt;br /&gt;
DNS Flush를 하라고 해서 찾아보니 비행기 모드를 하고 15초 정도 있다가 다시 켜면 된다고 한다.&lt;br /&gt;
해봤으나 실패.&lt;br /&gt;
IPv4로만 해놨으면 IPv6으로 변환해서 한번 더 hosts 파일에 등록하면 된다고 한다.&lt;br /&gt;
&lt;a href=&quot;https://www.ultratools.com/tools/ipv4toipv6&quot;&gt;변환 사이트&lt;/a&gt;에서 변환해서 등록해 보았으나 역시나 실패.&lt;br /&gt;
test.useworld.com이라고 했으면 같은 IP로 useworld.com도 등록하면 된다고 한다.
마찬가지로 실패.
또 구글링해보니 iOS 12에서 hosts 적용이 안되는데 어떻게 하냐는 질문에 답이 없는 글도 봤다.&lt;br /&gt;
계속되는 실패에 원래 iOS에서는 안되는 건가? 라는 생각이 들었다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;letmeblock&quot;&gt;LetMeBlock&lt;/h1&gt;

&lt;p&gt;삽질을 하다가 결국엔 찾았다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Cydia의 Source에서 &lt;kbd&gt;https://poomsmart.github.io/repo/&lt;/kbd&gt; Repository를 추가한다.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;LetMeBlock&lt;/code&gt;을 검색하여 들어가서 변경을 누르고 재설치한다.&lt;/li&gt;
  &lt;li&gt;root 권한으로 mDNSResponder를 kill한다.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;killall &lt;span class=&quot;nt&quot;&gt;-9&lt;/span&gt; mDNSResponder
&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;killall &lt;span class=&quot;nt&quot;&gt;-9&lt;/span&gt; mDNSResponderHelper
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Safari로 접속을 해도 앱에서 접근을 해도 잘 접속된다.&lt;br /&gt;
오 놀라워라.&lt;/p&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="iOS" /><summary type="html">사건의 발단</summary></entry><entry><title type="html">iOS 백그라운드 스냅샷 중요정보 노출 보안대책(Swift)</title><link href="https://useworld.github.io/swift/2020/03/10/bgsnapshot.html" rel="alternate" type="text/html" title="iOS 백그라운드 스냅샷 중요정보 노출 보안대책(Swift)" /><published>2020-03-10T00:00:00+09:00</published><updated>2020-03-10T00:00:00+09:00</updated><id>https://useworld.github.io/swift/2020/03/10/bgsnapshot</id><content type="html" xml:base="https://useworld.github.io/swift/2020/03/10/bgsnapshot.html">&lt;h1 id=&quot;multitasking-switcher&quot;&gt;Multitasking Switcher&lt;/h1&gt;

&lt;p&gt;iOS 앱 실행 중 홈버튼을 한번 누르면 실행중이던 앱은 백그라운드로 들어가고 홈화면이 나온다. 홈화면이던 앱 실행중이던 홈버튼을 연속으로 두번 누르면 현재 백그라운드에 있는 앱 목록이 나오며 해당 앱의 마지막 화면이 나타나게 된다. 이 기능을 Multitasking Switcher라고 하는 것 같다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;snapshot&quot;&gt;Snapshot&lt;/h1&gt;

&lt;p&gt;앱 생명 주기는 &lt;a href=&quot;https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle&quot;&gt;애플 개발자 페이지&lt;/a&gt;에 설명이 나와있다. 아이폰은 앱이 백그라운드에 갈 때마다 Screenshot을 저장하여 해당 이미지를 Multitasking Switcher에서 보여준다. 그럼 직접적으로 해당 스냅샷을 지정할 수 있는지 찾아보았는데 마땅히 없었다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;이미지-교체&quot;&gt;이미지 교체&lt;/h1&gt;

&lt;p&gt;직접적으로 이미지 지정이 안된다면 다른 방법을 사용해야 한다. 앱이 백그라운드로 갈 때 원하는 이미지 파일로 스냅샷이 찍히도록 꼼수를 썼다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;지정한 이미지파일로 UIImageView를 하나 생성한다.&lt;/li&gt;
  &lt;li&gt;앱이 백그라운드에 진입 직전 현재 화면 위에 이미지뷰를 덮어버린다.&lt;/li&gt;
  &lt;li&gt;다시 앱이 실행되면 해당 이미지뷰를 지운다.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;이러면 백그라운드 진입과 동시에 찍히는 스냅샷은 화면 위에 덮어 쓴 이미지뷰가 찍힐 것이다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;appdelegate&quot;&gt;AppDelegate&lt;/h1&gt;

&lt;p&gt;인터넷을 검색해보니 &lt;a href=&quot;https://developer.apple.com/documentation/uikit/uiapplicationdelegate&quot;&gt;애플 개발자 페이지&lt;/a&gt;에 Responding to App Life-Cycle Events
항목이 있었다. AppDelegate에 applicationDidEnterBackground와 applicationWillEnterForeground를 사용하면 될 것 같다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AppDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIResponder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplicationDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;didFinishLaunchingWithOptions&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;launchOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;LaunchOptionsKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]?)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;applicationDidEnterBackground&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Background!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;applicationWillEnterForeground&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Foreground!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;앱에서 홈버튼을 누르면 Background!라고 콘솔에 찍힐 것이고 다시 실행하면 Foreground!라고 찍힐 것이라 기대하며 위의 코드를 넣고 실행해봤다.&lt;br /&gt;
하지만 콘솔창엔 아무것도 찍히지 않았다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;scenedelegate&quot;&gt;SceneDelegate&lt;/h1&gt;

&lt;p&gt;한참을 삽질하다가 결국 알아냈다. &lt;a href=&quot;https://developer.apple.com/documentation/uikit/app_and_environment/scenes/specifying_the_scenes_your_app_supports&quot;&gt;애플 개발자 페이지&lt;/a&gt;에 써있기를 iOS 13 이상부터는 SceneDelegate를 사용한댄다. 이런… 개발중인 내 폰의 버전은 iOS 13.3.1이었다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SceneDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIResponder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindowSceneDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;willConnectTo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISceneSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;connectionOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;ConnectionOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scene&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as?&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindowScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sceneWillEnterForeground&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Foreground!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sceneDidEnterBackground&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Background!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;다시 한 번 앱에서 홈버튼을 누르면 Background!라고 콘솔에 찍힐 것이고 다시 실행하면 Foreground!라고 찍힐 것이라 기대하며 위의 코드를 넣고 실행해봤다. 드디어 콘솔창에 찍혔다!&lt;/p&gt;

&lt;p&gt;하지만 뭔가 애매했다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;앱 실행 중 홈버튼을 한 번 눌러서 완전히 백그라운드로 돌아갔다가 다시 실행(O)&lt;/li&gt;
  &lt;li&gt;앱 실행 중 홈버튼을 따닥 두 번 눌러서 멀티태스킹 진입 시(X)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;또 뭐가 문제인지 찾다가 모든 이벤트를 다 테스트 해본 결과 &lt;code class=&quot;highlighter-rouge&quot;&gt;sceneWillResignActive&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;sceneDidBecomeActive&lt;/code&gt; 이 두 함수가 홈버튼을 한 번 눌러서 백그라운드로 갔다가 복귀하던, 홈버튼을 두 번 눌러서 바로 멀티태스킹을 하던 실행이 되는 것을 확인했다.&lt;/p&gt;

&lt;p&gt;이제 스냅샷으로 찍혀 줄 이미지 파일을 asset에 SecureBackground로 등록한 뒤 해당 이미지를 표시해 줄 이미지뷰를 백그라운드 갈때는 덮어 쓰고 다시 실행될때는 없애는 코드를 넣고 실행했다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SceneDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIResponder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindowSceneDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;willConnectTo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISceneSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;connectionOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;ConnectionOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scene&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as?&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIWindowScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sceneWillResignActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;named&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SecureBackground&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addSubview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sceneDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;scene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;removeFromSuperview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;성공이다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;scenedelegate-제거&quot;&gt;SceneDelegate 제거&lt;/h1&gt;

&lt;p&gt;그런데 위 코드는 iOS 13 미만 버전대 기기에서는 또 작동을 안했다. 다시 AppDelegate에서 코드를 추가했더니 작동했다. iOS 13보다 낮은 버전에서는 AppDelegate로 이벤트를 핸들링하기 때문에 똑같은 코드를 두번 넣어야 되게 생겼다. 
어차피 나는 Scene을 사용하지 않아도 무방하기 때문에 아예 SceneDelegate를 삭제하고  설정하면 AppDelegate에서 해결되는게 아닌가 싶었다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;info.plist에서 &lt;kbd&gt;Application Scene Manifest&lt;/kbd&gt; 제거&lt;/li&gt;
  &lt;li&gt;AppDelegate.swift에서 아래의 UISceneSession Lifecycle 관련 코드들 주석처리나 삭제&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// AppDelegate.swift&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// MARK: UISceneSession Lifecycle&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configurationForConnecting&lt;/span&gt; 
        &lt;span class=&quot;nv&quot;&gt;connectingSceneSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISceneSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
        &lt;span class=&quot;kt&quot;&gt;UIScene&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;ConnectionOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISceneConfiguration&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Called when a new scene session is being created.&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Use this method to select a configuration to create the new scene with.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UISceneConfiguration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Default Configuration&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;nv&quot;&gt;sessionRole&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connectingSceneSession&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;role&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;didDiscardSceneSessions&lt;/span&gt; 
        &lt;span class=&quot;nv&quot;&gt;sceneSessions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UISceneSession&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Called when the user discards a scene session.&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// If any sessions were discarded while the application was not running, this will be called shortly after  application:didFinishLaunchingWithOptions.&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Use this method to release any resources that were specific to the discarded scenes, as they will not return.&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;SceneDelegate에 삽입했던 코드를 AppDelegate로 이동&lt;/li&gt;
  &lt;li&gt;어차피 이제는 안쓸 SceneDelegate.swift 제거&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;이렇게 하고 실행해보니 똑같은 코드 두 번 안쓰고 잘됐다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;결론&quot;&gt;결론&lt;/h1&gt;

&lt;p&gt;Swift에서 백그라운드 스냅샷에 중요 정보 노출 방지하는 방법&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;iOS 13 미만 버전에서는 App Delegate, iOS 13 이상이면 Scene Delegate 고려&lt;/li&gt;
  &lt;li&gt;임의의 이미지 뷰를 생성하여 앱이 백그라운드 진입할 때 위에 덮어쓰고 다시 돌아올 때 뺀다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;즉 App Delegate의 경우 &lt;kbd&gt;AppDelegate.swift&lt;/kbd&gt;에 아래 코드 추가&lt;/p&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;applicationWillResignActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;named&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;넣을&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;이미지&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addSubview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;applicationDidBecomeActive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIApplication&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;removeFromSuperview&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;imageView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Swift" /><summary type="html">Multitasking Switcher</summary></entry><entry><title type="html">Swift로 WebView 구현하기(iOS 8.0 WKWebView)</title><link href="https://useworld.github.io/swift/2020/03/09/webview.html" rel="alternate" type="text/html" title="Swift로 WebView 구현하기(iOS 8.0 WKWebView)" /><published>2020-03-09T00:00:00+09:00</published><updated>2020-03-09T00:00:00+09:00</updated><id>https://useworld.github.io/swift/2020/03/09/webview</id><content type="html" xml:base="https://useworld.github.io/swift/2020/03/09/webview.html">&lt;h1 id=&quot;웹-페이지-표시&quot;&gt;웹 페이지 표시&lt;/h1&gt;

&lt;p&gt;iOS 앱에서 웹페이지를 보여주려면 몇 가지 방법이 있다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;WebView를 사용해서 앱 내부에서 표시&lt;/li&gt;
  &lt;li&gt;앱이 Safari를 호출해서 해당 URL을 열기&lt;/li&gt;
  &lt;li&gt;SFSafariViewController로 앱 안에서 SafariView로 열기&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;각각 장단점이 있기에 사용할 용도에 따라 선택해서 쓰면 되겠다.
이번에는 WebView를 사용하려고 한다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;webview&quot;&gt;WebView&lt;/h1&gt;

&lt;p&gt;우선 웹뷰를 사용하기 위해 ViewController를 하나 생성하였다.
그리고 UIWebView를 사용하려고 했더니 이런.. &lt;a href=&quot;https://developer.apple.com/documentation/uikit/uiwebview&quot;&gt;애플 개발자 사이트&lt;/a&gt;에 알아보니 Deprecated라고 한다.
그래서 찾아보니 iOS 8부터 사용 가능한 WKWebView를 쓰면 될 것 같다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;webkit-view&quot;&gt;Webkit View&lt;/h1&gt;
&lt;p&gt;Storyboard에서 WebView를 추가했더니 바로 에러가 났다.&lt;/p&gt;

&lt;div class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;WKWebView before iOS 11.0 (NSCoding support was broken in previous versions)&lt;/div&gt;

&lt;p&gt;그렇다. 나는 Deployment Target을 8.0으로 작업하고 있기에 안되는 것이었다.
혹시 모를 호환성 때문에 낮은 버전 기준으로 개발을 하고 있는데 이것때문에 겪은 불편이 한두가지가 아니다.&lt;/p&gt;

&lt;p&gt;그래서 코드로 직접 만들어 넣었다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;WebKit&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;WebViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;WKNavigationDelegate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;WKUIDelegate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;webView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;WKWebView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loadView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;loadView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;webView&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;WKWebView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;webView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;주소&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;uURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;request&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLRequest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;webView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;해당 주소로 접속해서 웹 페이지가 잘 나온다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;post-method&quot;&gt;POST Method&lt;/h1&gt;

&lt;p&gt;웹뷰에 POST 방식으로 파라미터를 전달하고 싶어졌다.
다음 코드를 위의 &lt;code class=&quot;highlighter-rouge&quot;&gt;webView.load(request)&lt;/code&gt; 앞에 추가하면 될 것 같았다.
파라미터는 &lt;code class=&quot;highlighter-rouge&quot;&gt;a=1&amp;amp;b=2&lt;/code&gt; 이런 String으로 해도 되고 Dictionary 타입으로 지정하고 나서 형변환해도 된다. 이번 테스트는 문자열로 했다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpMethod&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;postString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;파라미터&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpBody&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;postString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;using&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;에러는 나지 않았지만 뭔가 이상했다.
웹 서버에서 확인해 보니 앱에서 아무런 파라미터도 날리지 않았다.
또 열심히 &lt;a href=&quot;https://bugs.webkit.org/show_bug.cgi?id=140188&quot;&gt;찾아보니&lt;/a&gt; WKWebkit에서 POST 요청 시 HTTP Body를 씹는 버그가 있다고 한다.&lt;/p&gt;

&lt;p&gt;여러가지 방법이 있었는데 가장 쉽고 간단한 방법을 선택했다.
보아하니 content-type 설정이 누락되어 안된다는 것 같았다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;forHTTPHeaderField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;요걸 추가하면 될 것 같았다.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;sURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;주소&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;uURL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;request&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URLRequest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;application/x-www-form-urlencoded&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;forHTTPHeaderField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpMethod&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;POST&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;postString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;파라미터&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httpBody&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;postString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;using&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;webView&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;코드는 요렇게 되겠다.
테스트 결과 성공했다.&lt;/p&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Swift" /><summary type="html">웹 페이지 표시</summary></entry><entry><title type="html">Favicon 만들고 적용하기</title><link href="https://useworld.github.io/jekyll/2020/03/08/favicon.html" rel="alternate" type="text/html" title="Favicon 만들고 적용하기" /><published>2020-03-08T00:00:00+09:00</published><updated>2020-03-08T00:00:00+09:00</updated><id>https://useworld.github.io/jekyll/2020/03/08/favicon</id><content type="html" xml:base="https://useworld.github.io/jekyll/2020/03/08/favicon.html">&lt;h1 id=&quot;favicon&quot;&gt;Favicon&lt;/h1&gt;
&lt;p&gt;Favicon이란 Favorites + Icon의 합성어로 웹 브라우저 주소창에 표시되는 웹사이트나 웹페이지를 대표하는 아이콘이다.&lt;br /&gt;
새로 개장한 내 블로그에도 Favicon을 달아야겠다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;제작&quot;&gt;제작&lt;/h1&gt;

&lt;p&gt;보통 스샷찍고 보고서 쓸 때 사용하지만 알고보면 그래픽 만능 툴인 &lt;a href=&quot;https://picpick.app/ko/&quot;&gt;PicPick&lt;/a&gt;을 이용하여 간단하게 블로그 대표문자 U를 넣은 깔끔한 그림 파일을 하나 제작한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/favicon01.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;가로, 세로 크기는 150으로 한다.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.favicon-generator.org/&quot;&gt;Favicon.ico &amp;amp; App Icon Generator&lt;/a&gt; 사이트에서 만든 이미지 파일을 변환시키고 다운받는다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/favicon02.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;만든 그림 파일을 업로드한다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/favicon03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;생성된 아이콘 파일은 다운받는다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;적용&quot;&gt;적용&lt;/h1&gt;

&lt;p&gt;그냥 별도로 설정하기 귀찮으면 favicon.ico 파일을 블로그 루트 디렉토리에 넣는다. 다른 경로의 아이콘을 사용하고 싶으면 &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt; 안에&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;shortcut icon&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;http://example.com/myicon.ico&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;이런 식으로 넣어주면 된다고 한다.&lt;br /&gt;
난 귀찮아서 그냥 넣었다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/posts/favicon04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;요렇게 깔끔하게 적용이 되었다.&lt;br /&gt;
끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Jekyll" /><summary type="html">Favicon Favicon이란 Favorites + Icon의 합성어로 웹 브라우저 주소창에 표시되는 웹사이트나 웹페이지를 대표하는 아이콘이다. 새로 개장한 내 블로그에도 Favicon을 달아야겠다.</summary></entry><entry><title type="html">Markdown으로 글 써보기</title><link href="https://useworld.github.io/jekyll/2018/07/08/markdown.html" rel="alternate" type="text/html" title="Markdown으로 글 써보기" /><published>2018-07-08T00:00:00+09:00</published><updated>2018-07-08T00:00:00+09:00</updated><id>https://useworld.github.io/jekyll/2018/07/08/markdown</id><content type="html" xml:base="https://useworld.github.io/jekyll/2018/07/08/markdown.html">&lt;h2 id=&quot;제목쓰기&quot;&gt;제목쓰기&lt;/h2&gt;

&lt;p&gt;# 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h1 id=&quot;제목&quot;&gt;제목&lt;/h1&gt;
&lt;/blockquote&gt;

&lt;p&gt;## 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h2 id=&quot;제목-1&quot;&gt;제목&lt;/h2&gt;
&lt;/blockquote&gt;

&lt;p&gt;### 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h3 id=&quot;제목-2&quot;&gt;제목&lt;/h3&gt;
&lt;/blockquote&gt;

&lt;p&gt;#### 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h4 id=&quot;제목-3&quot;&gt;제목&lt;/h4&gt;
&lt;/blockquote&gt;

&lt;p&gt;##### 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h5 id=&quot;제목-4&quot;&gt;제목&lt;/h5&gt;
&lt;/blockquote&gt;

&lt;p&gt;###### 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;h6 id=&quot;제목-5&quot;&gt;제목&lt;/h6&gt;
&lt;/blockquote&gt;

&lt;p&gt;#을 6개 까지 쓸 일은 없겠지.
참고로 7개를 사용하면&lt;/p&gt;

&lt;p&gt;####### 제목&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;####### 제목&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;안된다.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;리스트-만들기&quot;&gt;리스트 만들기&lt;/h2&gt;

&lt;p&gt;*이나 +나 -를 쓰면된다.&lt;/p&gt;

&lt;p&gt;* 리스트 1&lt;br /&gt;
+ 리스트 2&lt;br /&gt;
- 리스트 3&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;리스트 1&lt;/li&gt;
    &lt;li&gt;리스트 2&lt;/li&gt;
    &lt;li&gt;리스트 3&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;숫자는 1. 2. 3. 이런식으로 매기면 된다.&lt;/p&gt;

&lt;p&gt;순서가 바뀌어도 알아서 맞춰준다.&lt;/p&gt;

&lt;p&gt;\1. 리스트 1
\3. 리스트 2
\5. 리스트 3&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;리스트 1&lt;/li&gt;
    &lt;li&gt;리스트 2&lt;/li&gt;
    &lt;li&gt;리스트 3&lt;/li&gt;
  &lt;/ol&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;인용구-쓰기&quot;&gt;인용구 쓰기&lt;/h2&gt;

&lt;p&gt;&amp;gt; 글씨&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;글씨&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;코드블럭&quot;&gt;코드블럭&lt;/h2&gt;

&lt;p&gt;~~~ 언어&lt;br /&gt;
 코드&lt;br /&gt;
~~~&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;hello world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Jekyll" /><summary type="html">제목쓰기</summary></entry><entry><title type="html">Node.js에서 C 라이브러리 사용하기 - FFI(Foreign Function Interface)</title><link href="https://useworld.github.io/node.js/2016/04/20/nodejsffi.html" rel="alternate" type="text/html" title="Node.js에서 C 라이브러리 사용하기 - FFI(Foreign Function Interface)" /><published>2016-04-20T00:00:00+09:00</published><updated>2016-04-20T00:00:00+09:00</updated><id>https://useworld.github.io/node.js/2016/04/20/nodejsffi</id><content type="html" xml:base="https://useworld.github.io/node.js/2016/04/20/nodejsffi.html">&lt;p&gt;NodeJS에서 C언어로 만들어진 라이브러리 파일을 이용하는 Test를 해보았다.
fft는 fast Fourier transform C 라이브러리다.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ref&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ffi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;ffi&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ArrayType&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;ref-array&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DoubleArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ArrayType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;double&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fftlib&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ffi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;./fft&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;fft&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;DoubleArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DoubleArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;frData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;5.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;4.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;3.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;5.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;4.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;   
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fiData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;inv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DoubleArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;frData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DoubleArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fiData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;fftlib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fft&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;inv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;======== NODEJS =========&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; : &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;잘된다.&lt;br /&gt;
끝.&lt;/p&gt;</content><author><name>Useworld</name></author><category term="Node.js" /><summary type="html">NodeJS에서 C언어로 만들어진 라이브러리 파일을 이용하는 Test를 해보았다. fft는 fast Fourier transform C 라이브러리다.</summary></entry></feed>